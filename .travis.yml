dist: trusty
sudo: false
git:
  depth: false
env:
  global:
    - CC_TEST_REPORTER_ID=53eef44d00d3465aeaf806ea310cfc5497e7473d13ae05fbc753890c39712c60
addons:
  sonarcloud:
    organization: "lucacappelletti94-github"
    token:
      secure: "B/oVgbbueEinuqGPVm3mE4eqS25PzZUvO4u0zGqLStVTEKhoXnoT8gOWwSfQQfYYGSp5Bd1vL0b6CYV857gOCLMzOi4Qn1ovd638Gkjh+Q0O5aS4d+UOeLEbzD1xKli9WkfXBTlBjp3FG+NCn1NlObsI0a73SLQe+j83+Pl4wtF/6HGwFe5BdqYqUMl8PFgVKOju1U9WPHjMseASE4vr9tsFJBKflM6cqoN6ucoev93G9vgM/nG8JjpZjoOZkZXFDQ9GW4ws6bNeUEGEj23FD7XBBF8xhVhCd+y3nJJqYd5aeFfWCZy9w1VvoqS0z/9wCpEuaXZ8YJVHImbUWbhwlTNIwpH0p2Qe0c10rnj8S48H7eJOLfF58hGaQtPH/2apJ1/Lpa1uc/3lCg4cr9KZQSQF9oOyWuGxy+pcFzVLjuq236XeTEhiliMvjzLr8wp2mK7jyQ2syR7c7RUE2U8ufLwnlhOAqOaP5x6UptmLVKV9wGLcyQG6oRVKX8fu71rr0bBDleAo19pmf20guvUnbbSFR0QUYxuk0sXtomZQNVh3SWU/Mjz7SsIXhPV8ZUdUr0qqqFib3iNRofnIMeLvox2ATlMkx9ooeobV92cg0UqHwrOF3ir0q8Z/j9Y0ByYkjT3Cs/4pxlGvYwy4BXlJxXTkUngQbTUKGypPmU1H0xs="
language: python
python:
- '3.6'
before_install:
  - pip install --upgrade pytest
  - pip install tensorflow
install:
- pip install .[test]
before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build
after_script:
  - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT
script:
- rm -rf .coverage
- coverage erase
- pytest --cov=extra_keras_utils --cov-report xml:coverage.xml 
- coverage report
- coverage xml
- sonar-scanner

after_success:
  - coveralls

notifications:
  webhooks: https://fathomless-fjord-24024.herokuapp.com/notify
  email: false
